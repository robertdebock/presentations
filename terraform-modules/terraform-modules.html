<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>Terraform modules</title>
    <link rel="shortcut icon" href="./favicon.ico" />
    <link rel="stylesheet" href="./dist/reset.css" />
    <link rel="stylesheet" href="./dist/reveal.css" />
    <link rel="stylesheet" href="./dist/theme/black.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/base16/zenburn.css" />


  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template">

# Terraform modules

Follow along: http://robertdebock.nl/

<img src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=https://robertdebock.nl/presentations/terraform-modules/"/>
</script></section><section  data-markdown><script type="text/template">
## About me

- Love to [tinker](https://robertdebock.nl/).
- Specialized in IaC, Terraform and Ansible.
</script></section><section  data-markdown><script type="text/template">
## What

A Terraform module is a collection of Terraform code that can be used to create resources.
</script></section><section  data-markdown><script type="text/template">
Terraform coding options:

- "Think yourself".
- "Consume something".
</script></section><section ><section data-markdown><script type="text/template">
## Benefits "Think"

- You'll learn a lot.
- You'll understand what you're doing.
- You'll be able to fix things.
- You'll be able to extend things.
</script></section><section data-markdown><script type="text/template">
## Drawbacks "Think"

- Can be difficult/time consuming.
- Many edge-cases.
</script></section></section><section ><section data-markdown><script type="text/template">
## Benefits "Consume"

- Just use something.
- No need to understand everything.
</script></section><section data-markdown><script type="text/template">
## Drawbacks "Consume"

- You many want something a little different.
- Maybe your general approach differs.
</script></section></section><section ><section data-markdown><script type="text/template">
## Let's see some code!
</script></section><section data-markdown><script type="text/template">
## Think

```hcl
# Upload an SSH key.
resource "hcloud_ssh_key" "default" {
  name       = "my_key"
  public_key = file("~/.ssh/id_rsa.pub")
}
```
</script></section><section data-markdown><script type="text/template">
## Consume

```hcl
module "hcloud_ssh_key" {
  source  = "dhoppeIT/ssh_key/hcloud"
  version = "~> 0.2"
  name       = "my_key"
  public_key = "~/.ssh/id_rsa.pub"
}
```

[Source](https://github.com/dhoppeIT/terraform-hcloud-ssh_key).
</script></section></section><section ><section data-markdown><script type="text/template">
## The Registry

A [place](https://registry.terraform.io) to find (and publish) modules.
</script></section><section data-markdown><script type="text/template">
## How to select

- Version.
- Downloads.
- Publication date.
- Managed by.
- Examples.
- CI/tests.
</script></section><section data-markdown><script type="text/template">
## What modules do

- Resouce specific. ([AWS VPC](https://github.com/terraform-aws-modules/terraform-aws-vpc))
- Solution specific. ([HashiCorp Vault on AWS](https://registry.terraform.io/modules/robertdebock/vault/aws/latest))
</script></section><section data-markdown><script type="text/template">
## Interesting

- The name of a module must include the cloud provider.
- There are modules that do not create resources. ([Example](https://registry.terraform.io/modules/cloudposse/label/null/latest)).
- Modules are not for policies.
</script></section><section data-markdown><script type="text/template">
## Inner sourcing

[Terraform Enterprise](https://www.hashicorp.com/products/terraform/pricing) offers a place to host modules on-premise. It can also apply your Terraform code.
</script></section></section><section  data-markdown><script type="text/template">
## CAF

Microsoft has a [Cloud Adoption Framework](https://registry.terraform.io/modules/aztfmod/caf/azurerm/latest), a "super-module" that can deploy a lot of things.
</script></section><section  data-markdown><script type="text/template">
## Conclusion
</script></section><section  data-markdown><script type="text/template">
## Questions?
</script></section><section  data-markdown><script type="text/template">
## THANKS!
</script></section></div>
    </div>

    <script src="./dist/reveal.js"></script>

    <script src="./plugin/markdown/markdown.js"></script>
    <script src="./plugin/highlight/highlight.js"></script>
    <script src="./plugin/zoom/zoom.js"></script>
    <script src="./plugin/notes/notes.js"></script>
    <script src="./plugin/math/math.js"></script>
    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath
        ]
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {"controls":false}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
